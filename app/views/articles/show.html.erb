<article class="blog-post">
    <h2 class="blog-post-title"><%= @article.title%></h2>
    <p class="blog-post-meta">
        <%= render 'article_details', article: @article %>
    </p>
    
    <p class='text-break'><%= @article.body%></p>

    <%= link_to 'Edit', edit_article_path(@article), class: 'btn btn-secondary' if policy(@article).update?%>
    
    <%= link_to 'Destroy', @article, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger' if policy(@article).destroy? %>
    
    <p><%= link_to 'Back to Articles', articles_path, class: 'btn btn-primary' %></p>
    
    <h2 class="mt-3">Comments</h2>
    <%= render @article.comments %>
    <% if policy(:comment).create? %>
        <%= render 'comments/form'%>
    <% else %>
        <p>You need to be logged in to add a comment.</p>
    <% end %>

</article>
